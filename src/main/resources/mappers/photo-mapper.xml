<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="photoMapper">
  
   <resultMap type="Photo" id="photoResultSet">
      <id column="PHOTONO" property="photoNo"/>
      <result column="PHOTONAME" property="photoName"/>
      <result column="RENAMENAME" property="renameName"/>
      <result column="PHOTOPATH" property="photoPath"/>
      <result column="PHOTOSTATUS" property="photoStatus"/>
      <result column="PHOTOCOMENT" property="photoComent"/>
      <result column="USERNO" property="userNo"/>
      
      
   </resultMap>

   <insert id="insertPhoto">
		INSERT INTO photo
		VALUES(seq_rid.nextval, #{photoName}, #{renameName}, #{photoPath}, default, #{photoComent}, #{userNo})
	</insert>
   
   <select id="selectPhotoList" resultMap="photoResultSet">
   		select *
   		from photo
   		where photoStatus = 'Y'
   		order by photoNo desc
   </select>
   
   <select id="selectPhoto" resultMap="photoResultSet">
   		select *
   		from photo
   		where photoStatus = 'Y' and photoNo = #{photoNo} 
   		
   </select>
   
   <update id="deletePhoto">
   		update photo
		set photoStatus = 'N'
		

   </update>
   
   <update id="updateComent">
   		update photo
   		set photoComent = #{photoComent}
   		where photoNo = #{photoNo}		
   
   </update>
   
   <update id="updateAll">
   		update photo
   		set photoName = #{photoName},
   				renameName = #{renameName},
   				photoPath = #{photoPath},
   				photoComent = #{photoComent}
   				
   		where photoNo = #{photoNo}
   </update>
   
</mapper>